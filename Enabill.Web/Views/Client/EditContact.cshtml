@model Enabill.Web.Models.ContactEditModel

@{
    Layout = null;
}

@using (Html.BeginForm())
{
    @Html.ValidationSummary(true)
    <fieldset>
        <legend>Contact</legend>

        @Html.HiddenFor(model => model.Contact.ContactID)
        @Html.HiddenFor(model => model.Contact.ClientID)

        <div class="editor-label">
            Contact Name
            @* @Html.LabelFor(model => model.ContactName)*@
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Contact.ContactName)
            @Html.ValidationMessageFor(model => model.Contact.ContactName)
        </div>

        <div class="editor-label">
            Email
            @*   @Html.LabelFor(model => model.Email)*@
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Contact.Email)
            @Html.ValidationMessageFor(model => model.Contact.Email)
        </div>

        <div class="editor-label">
            Telephone Number
            @*   @Html.LabelFor(model => model.Email)*@
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Contact.TelephoneNo)
            @Html.ValidationMessageFor(model => model.Contact.TelephoneNo)
        </div>

        <div class="editor-label">
            Cellphone Number
            @*   @Html.LabelFor(model => model.Email)*@
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Contact.CellphoneNo)
            @Html.ValidationMessageFor(model => model.Contact.CellphoneNo)
        </div>

        <div class="editor-label">
            Job Title
            @*@Html.LabelFor(model => model.JobTitle)*@
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Contact.JobTitle)
            @Html.ValidationMessageFor(model => model.Contact.JobTitle)
        </div>

        <p>
            <input type="submit" value="Save" />
            <input type="button" onclick="Crud.cancelCreate(); return false;" value="Cancel" />
            @if (Model.ContactInvoices.Count == 0)
            {
                <input type="button" onclick="Crud.remove(@Model.Contact.ContactID); return false;" value="Delete" />
            }
            else
            {
                <input type="button" onclick="Crud.remove(@Model.Contact.ContactID); return false;" value="Delete" disabled="disabled" />
            <p>
                There are @Model.ContactInvoices.Count invoices linked to @Model.Contact.ContactName. Cannot be deleted.
            </p>
            }
        </fieldset>
}