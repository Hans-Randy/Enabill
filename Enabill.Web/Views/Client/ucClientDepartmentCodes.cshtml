@model Enabill.Web.Models.ClientEditModel
@{
    var selected = "false";
}

<div id="ucClientDepartmentCodes">
    <table class="general fullWidth">
        <tr>
            @if (Model.ClientDepartmentCodes.Count() <= 0)
            {
                <text>This client has no departmentcodes</text>
                <td><a href="#" onclick="Department.createClientDepartmentCode(@Model.Client.ClientID); return false">Create New</a></td>
            }
            else
            {
                <td><a href="#" onclick="Department.createClientDepartmentCode(@Model.Client.ClientID); return false">Create New</a></td>
            }
        </tr>
        <tr>
            <th></th>
            <th>Department Code</th>
            <th>Active</th>
        </tr>

        @foreach (var clientDepartmentCode in Model.ClientDepartmentCodes)
        {
            var isSelected = "";
            if (clientDepartmentCode.IsActive)
            {
                isSelected = "checked";
                if (isSelected == "checked")
                {
                    selected = "true";
                }

            }

            <tr>
                <td width="10%"><a href="#" onclick="Department.editClientDepartmentCode(@clientDepartmentCode.ClientDepartmentCodeID, @clientDepartmentCode.ClientID, @selected); return false">Edit</a></td>
                <td>@clientDepartmentCode.DepartmentCode</td>
                <td width="10%">
                    @if (clientDepartmentCode.IsActive)
                    {
                        <text>True</text>
                    }
                    else
                    {
                        <text>False</text>
                    }
                </td>
            </tr>
        }
    </table>
</div>